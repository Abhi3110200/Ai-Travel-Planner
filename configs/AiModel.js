/*
 * Install the Generative AI SDK
 *
 * $ npm install @google/generative-ai
 *
 * See the getting started guide for more information
 * https://ai.google.dev/gemini-api/docs/get-started/node
 */

const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
  } = require("@google/generative-ai");
  
  const apiKey = process.env.EXPO_PUBLIC_GOOGLE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
   // safetySettings: Adjust safety settings
   // See https://ai.google.dev/gemini-api/docs/safety-settings
      history: [
        {
            role: "user",
            parts: [
              {text: "Generate Travel Plan for Location : Mumbai, Maharashtra, India , for 3 Days and 2 Night for Family with a Expensive budget with a Flight details, Flight Price with Booking url, Hotels options list with HotelName, Hotel address, Price, Hotel image url, geo coordinates, rating, descriptions and Places to visit nearby with placeName, Place Details, Place Image Url, Geo Coordinates, ticket pricing, Time t travel each of the location for {totalDays} days and {totalNight} night with each day plan with best time to visit in JSON format."},
            ],
          },
          {
            role: "model",
            parts: [
              {text: "```json\n{\n  \"tripDetails\": {\n    \"location\": \"Mumbai, Maharashtra, India\",\n    \"duration\": {\n      \"days\": 3,\n      \"nights\": 2\n    },\n    \"budget\": \"Expensive\",\n    \"travelers\": \"Family\"\n  },\n  \"flightDetails\": {\n    \"flightOptions\": [\n      {\n        \"airline\": \"Air India\",\n        \"flightNumber\": \"AI 863\",\n        \"departureCity\": \"New York\",\n        \"arrivalCity\": \"Mumbai\",\n        \"departureDate\": \"2024-03-15\",\n        \"arrivalDate\": \"2024-03-16\",\n        \"price\": \"$1200\",\n        \"bookingUrl\": \"https://www.airindia.com/\"\n      },\n      {\n        \"airline\": \"Emirates\",\n        \"flightNumber\": \"EK 503\",\n        \"departureCity\": \"London\",\n        \"arrivalCity\": \"Mumbai\",\n        \"departureDate\": \"2024-03-15\",\n        \"arrivalDate\": \"2024-03-16\",\n        \"price\": \"$1000\",\n        \"bookingUrl\": \"https://www.emirates.com/\"\n      }\n    ]\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"The Taj Mahal Palace, Mumbai\",\n      \"hotelAddress\": \"Apollo Bunder, Colaba, Mumbai, Maharashtra 400001\",\n      \"price\": \"$500+\",\n      \"hotelImageUrl\": \"https://www.tajhotels.com/media/images/hotel-images/mumbai/taj-mahal-palace-hotel-mumbai-hero-image-1600x900.jpg\",\n      \"geoCoordinates\": \"18.9223, 72.8349\",\n      \"rating\": 4.8,\n      \"description\": \"A luxurious and iconic hotel with a rich history and stunning views of the Arabian Sea.\"\n    },\n    {\n      \"hotelName\": \"The Oberoi Mumbai\",\n      \"hotelAddress\": \"Nariman Point, Mumbai, Maharashtra 400021\",\n      \"price\": \"$400+\",\n      \"hotelImageUrl\": \"https://www.oberoihotels.com/media/images/hotel-images/mumbai/oberoi-mumbai-hero-image-1600x900.jpg\",\n      \"geoCoordinates\": \"18.9352, 72.8272\",\n      \"rating\": 4.7,\n      \"description\": \"A sophisticated and elegant hotel known for its impeccable service and breathtaking city views.\"\n    },\n    {\n      \"hotelName\": \"The Four Seasons Hotel Mumbai\",\n      \"hotelAddress\": \"Dr. E. Moses Rd, Worli, Mumbai, Maharashtra 400018\",\n      \"price\": \"$350+\",\n      \"hotelImageUrl\": \"https://www.fourseasons.com/mumbai/images/hotel/hero-image-desktop.jpg\",\n      \"geoCoordinates\": \"18.9969, 72.8224\",\n      \"rating\": 4.6,\n      \"description\": \"A modern and stylish hotel with exceptional dining options and a rooftop infinity pool.\"\n    }\n  ],\n  \"dailyPlan\": [\n    {\n      \"day\": 1,\n      \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n      \"location\": {\n        \"placeName\": \"Gateway of India\",\n        \"placeDetails\": \"A historic archway built in 1924, marking the entrance to the harbor.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/Gateway_of_India_2.jpg/1280px-Gateway_of_India_2.jpg\",\n        \"geoCoordinates\": \"18.9220, 72.8348\",\n        \"ticketPricing\": \"Free\",\n        \"timeToTravel\": \"1-2 hours\"\n      },\n      \"activity\": \"Visit the Gateway of India, take photos, and enjoy the stunning views of the harbor.\"\n    },\n    {\n      \"day\": 1,\n      \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n      \"location\": {\n        \"placeName\": \"Elephanta Caves\",\n        \"placeDetails\": \"Ancient cave temples dedicated to Lord Shiva, carved out of rock and featuring intricate sculptures.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Elephanta_Caves.jpg/1280px-Elephanta_Caves.jpg\",\n        \"geoCoordinates\": \"18.9852, 73.0384\",\n        \"ticketPricing\": \"₹250 per person\",\n        \"timeToTravel\": \"3 hours (including ferry ride)\"\n      },\n      \"activity\": \"Take a ferry to the Elephanta Caves, explore the ancient temples, and appreciate the artistry of the sculptures.\"\n    },\n    {\n      \"day\": 1,\n      \"time\": \"Evening (5:00 PM - 8:00 PM)\",\n      \"location\": {\n        \"placeName\": \"Marine Drive\",\n        \"placeDetails\": \"A scenic promenade along the coastline, also known as the 'Queen's Necklace' for its glittering lights at night.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Marine_Drive_Mumbai.jpg/1280px-Marine_Drive_Mumbai.jpg\",\n        \"geoCoordinates\": \"18.9340, 72.8296\",\n        \"ticketPricing\": \"Free\",\n        \"timeToTravel\": \"1-2 hours\"\n      },\n      \"activity\": \"Take a leisurely stroll along Marine Drive, enjoy the sea breeze, and admire the city lights.\"\n    },\n    {\n      \"day\": 2,\n      \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n      \"location\": {\n        \"placeName\": \"Chhatrapati Shivaji Maharaj Terminus (CST)\",\n        \"placeDetails\": \"A UNESCO World Heritage Site, a stunning example of Victorian Gothic Revival architecture.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/CST_Mumbai_2012.jpg/1280px-CST_Mumbai_2012.jpg\",\n        \"geoCoordinates\": \"18.9401, 72.8341\",\n        \"ticketPricing\": \"Free\",\n        \"timeToTravel\": \"1-2 hours\"\n      },\n      \"activity\": \"Explore the intricate details of CST, take photos, and learn about its history.\"\n    },\n    {\n      \"day\": 2,\n      \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n      \"location\": {\n        \"placeName\": \"Mani Bhavan\",\n        \"placeDetails\": \"Gandhiji's former residence in Mumbai, where he lived during the Indian independence movement.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Mani_Bhavan_-_Mumbai_-_India.jpg/1280px-Mani_Bhavan_-_Mumbai_-_India.jpg\",\n        \"geoCoordinates\": \"18.9483, 72.8316\",\n        \"ticketPricing\": \"₹10 per person\",\n        \"timeToTravel\": \"1-2 hours\"\n      },\n      \"activity\": \"Visit Mani Bhavan, learn about Gandhiji's life and work, and see his belongings.\"\n    },\n    {\n      \"day\": 2,\n      \"time\": \"Evening (5:00 PM - 8:00 PM)\",\n      \"location\": {\n        \"placeName\": \"Dhobi Ghat\",\n        \"placeDetails\": \"The world's largest open-air laundry, a fascinating and colorful sight.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/Dhobi_Ghat_Mumbai.jpg/1280px-Dhobi_Ghat_Mumbai.jpg\",\n        \"geoCoordinates\": \"18.9536, 72.8264\",\n        \"ticketPricing\": \"Free\",\n        \"timeToTravel\": \"1-2 hours\"\n      },\n      \"activity\": \"Witness the unique spectacle of Dhobi Ghat, learn about the traditional washing methods, and take some memorable photos.\"\n    },\n    {\n      \"day\": 3,\n      \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n      \"location\": {\n        \"placeName\": \"Kanheri Caves\",\n        \"placeDetails\": \"Ancient Buddhist cave temples located within the Sanjay Gandhi National Park.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Kanheri_Caves.jpg/1280px-Kanheri_Caves.jpg\",\n        \"geoCoordinates\": \"19.1477, 72.9087\",\n        \"ticketPricing\": \"₹50 per person\",\n        \"timeToTravel\": \"3-4 hours (including travel time to the park)\"\n      },\n      \"activity\": \"Explore the Kanheri Caves, admire the ancient carvings and sculptures, and enjoy the serene atmosphere.\"\n    },\n    {\n      \"day\": 3,\n      \"time\": \"Afternoon (1:00 PM - 4:00 PM)\",\n      \"location\": {\n        \"placeName\": \"Juhu Beach\",\n        \"placeDetails\": \"A popular beach known for its lively atmosphere, street food, and water sports.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Juhu_Beach_-_Mumbai.jpg/1280px-Juhu_Beach_-_Mumbai.jpg\",\n        \"geoCoordinates\": \"19.0558, 72.8316\",\n        \"ticketPricing\": \"Free\",\n        \"timeToTravel\": \"2-3 hours\"\n      },\n      \"activity\": \"Relax on Juhu Beach, enjoy the sunset, and try some of the local street food.\"\n    },\n    {\n      \"day\": 3,\n      \"time\": \"Evening (5:00 PM - 8:00 PM)\",\n      \"location\": {\n        \"placeName\": \"Shree Siddhivinayak Temple\",\n        \"placeDetails\": \"A famous Hindu temple dedicated to Lord Ganesha, known for fulfilling wishes.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Shree_Siddhivinayak_Temple_Mumbai.jpg/1280px-Shree_Siddhivinayak_Temple_Mumbai.jpg\",\n        \"geoCoordinates\": \"18.9731, 72.8287\",\n        \"ticketPricing\": \"Free\",\n        \"timeToTravel\": \"1-2 hours\"\n      },\n      \"activity\": \"Visit Shree Siddhivinayak Temple, offer prayers, and experience the spiritual atmosphere.\"\n    }\n  ]\n}\n```\n\n**Please note:**\n\n* This is a sample itinerary, and you can customize it based on your family's interests and preferences.\n* Flight prices and availability may vary depending on the time of year and booking date. \n* Hotel prices are estimates and can fluctuate.\n* You may need to purchase tickets for some attractions in advance, especially during peak season.\n* Be sure to check the latest travel advisories and guidelines before your trip. \n"},
            ],
          },
      ],
    });
  
    // const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
    // console.log(result.response.text());